{"ast":null,"code":"import React,{useEffect}from\"react\";//import { missingPersons } from \"../missingPersons\";\nimport SearchBar from\"../components/SearchBar\";import{Row,Col}from\"react-bootstrap\";import Person from\"../components/Person\";import Loader from\"../components/Loader\";import Message from\"../components/Message\";import Paginate from\"../components/Paginate\";import{useDispatch,useSelector}from\"react-redux\";import{listPersons}from\"../actions/personActions\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomeScreen(){var location=useLocation();var dispatch=useDispatch();var personList=useSelector(function(state){console.log(\"State:\",state);return state.personList;});var error=personList.error,loading=personList.loading,persons=personList.persons,page=personList.page,pages=personList.pages;var keyword=new URLSearchParams(location.search).get(\"keyword\")||\"\";var pageNumber=new URLSearchParams(location.search).get(\"page\")||\"\";useEffect(function(){dispatch(listPersons(keyword,pageNumber));},[dispatch,keyword,pageNumber]);console.log(\"Persons:\",persons);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title mt-3\",children:\"Base de Datos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"main-title-container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"main-title\",children:\"Personas Desaparecidas en RD \\uD83C\\uDDE9\\uD83C\\uDDF4\"})}),/*#__PURE__*/_jsx(SearchBar,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"B\\xFAsquedas:\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{children:persons.map(function(person){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Person,{person:person})},person._id);})}),/*#__PURE__*/_jsx(Paginate,{pages:pages,page:page,keyword:keyword,isAdmin:false,isKeywordSearch:true})]})]});}export default HomeScreen;","map":{"version":3,"names":["React","useEffect","SearchBar","Row","Col","Person","Loader","Message","Paginate","useDispatch","useSelector","listPersons","useLocation","HomeScreen","location","dispatch","personList","state","console","log","error","loading","persons","page","pages","keyword","URLSearchParams","search","get","pageNumber","map","person","_id"],"sources":["/Users/tatyanaparks/Desktop/fullstack_database/backend/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect } from \"react\";\n//import { missingPersons } from \"../missingPersons\";\nimport SearchBar from \"../components/SearchBar\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Person from \"../components/Person\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport Paginate from \"../components/Paginate\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listPersons } from \"../actions/personActions\";\nimport { useLocation } from \"react-router-dom\";\n\nfunction HomeScreen() {\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  const personList = useSelector((state) => {\n    console.log(\"State:\", state);\n    return state.personList;\n  });\n\n  const { error, loading, persons, page, pages } = personList;\n\n  let keyword = new URLSearchParams(location.search).get(\"keyword\") || \"\";\n  let pageNumber = new URLSearchParams(location.search).get(\"page\") || \"\";\n\n  useEffect(() => {\n    dispatch(listPersons(keyword, pageNumber));\n  }, [dispatch, keyword, pageNumber]);\n\n  console.log(\"Persons:\", persons);\n\n  return (\n    <div>\n      <h3 className=\"section-title mt-3\">Base de Datos</h3>\n      <div className=\"main-title-container\">\n        <h1 className=\"main-title\">Personas Desaparecidas en RD ðŸ‡©ðŸ‡´</h1>\n      </div>\n      <SearchBar />\n      <h2>BÃºsquedas:</h2>\n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant=\"danger\">{error}</Message>\n      ) : (\n        <div>\n          <Row>\n            {persons.map((person) => (\n              <Col key={person._id} sm={12} md={6} lg={4} xl={3}>\n                <Person person={person} />\n              </Col>\n            ))}\n          </Row>\n          <Paginate\n            pages={pages}\n            page={page}\n            keyword={keyword}\n            isAdmin={false}\n            isKeywordSearch={true}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default HomeScreen;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC;AACA,MAAOC,UAAS,KAAM,yBAAyB,CAC/C,OAASC,GAAG,CAAEC,GAAG,KAAQ,iBAAiB,CAC1C,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,0BAA0B,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAE/C,QAASC,WAAU,EAAG,CACpB,GAAMC,SAAQ,CAAGF,WAAW,EAAE,CAC9B,GAAMG,SAAQ,CAAGN,WAAW,EAAE,CAE9B,GAAMO,WAAU,CAAGN,WAAW,CAAC,SAACO,KAAK,CAAK,CACxCC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEF,KAAK,CAAC,CAC5B,MAAOA,MAAK,CAACD,UAAU,CACzB,CAAC,CAAC,CAEF,GAAQI,MAAK,CAAoCJ,UAAU,CAAnDI,KAAK,CAAEC,OAAO,CAA2BL,UAAU,CAA5CK,OAAO,CAAEC,OAAO,CAAkBN,UAAU,CAAnCM,OAAO,CAAEC,IAAI,CAAYP,UAAU,CAA1BO,IAAI,CAAEC,KAAK,CAAKR,UAAU,CAApBQ,KAAK,CAE5C,GAAIC,QAAO,CAAG,GAAIC,gBAAe,CAACZ,QAAQ,CAACa,MAAM,CAAC,CAACC,GAAG,CAAC,SAAS,CAAC,EAAI,EAAE,CACvE,GAAIC,WAAU,CAAG,GAAIH,gBAAe,CAACZ,QAAQ,CAACa,MAAM,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC,EAAI,EAAE,CAEvE3B,SAAS,CAAC,UAAM,CACdc,QAAQ,CAACJ,WAAW,CAACc,OAAO,CAAEI,UAAU,CAAC,CAAC,CAC5C,CAAC,CAAE,CAACd,QAAQ,CAAEU,OAAO,CAAEI,UAAU,CAAC,CAAC,CAEnCX,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEG,OAAO,CAAC,CAEhC,mBACE,oCACE,WAAI,SAAS,CAAC,oBAAoB,UAAC,eAAa,EAAK,cACrD,YAAK,SAAS,CAAC,sBAAsB,uBACnC,WAAI,SAAS,CAAC,YAAY,UAAC,uDAAiC,EAAK,EAC7D,cACN,KAAC,SAAS,IAAG,cACb,oBAAI,eAAU,EAAK,CAClBD,OAAO,cACN,KAAC,MAAM,IAAG,CACRD,KAAK,cACP,KAAC,OAAO,EAAC,OAAO,CAAC,QAAQ,UAAEA,KAAK,EAAW,cAE3C,oCACE,KAAC,GAAG,WACDE,OAAO,CAACQ,GAAG,CAAC,SAACC,MAAM,qBAClB,KAAC,GAAG,EAAkB,EAAE,CAAE,EAAG,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,CAAC,EAAE,CAAE,CAAE,uBAChD,KAAC,MAAM,EAAC,MAAM,CAAEA,MAAO,EAAG,EADlBA,MAAM,CAACC,GAAG,CAEd,EACP,CAAC,EACE,cACN,KAAC,QAAQ,EACP,KAAK,CAAER,KAAM,CACb,IAAI,CAAED,IAAK,CACX,OAAO,CAAEE,OAAQ,CACjB,OAAO,CAAE,KAAM,CACf,eAAe,CAAE,IAAK,EACtB,GAEL,GACG,CAEV,CAEA,cAAeZ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}